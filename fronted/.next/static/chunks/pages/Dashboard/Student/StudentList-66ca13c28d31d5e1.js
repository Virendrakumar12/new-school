(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[532],{672:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1713).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1713:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var a=s(4232);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),i=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:h,...x}=e;return(0,a.createElement)("svg",{ref:t,...c,width:r,height:r,stroke:s,strokeWidth:i?24*Number(l)/Number(r):l,className:n("lucide",o),...!u&&!d(x)&&{"aria-hidden":"true"},...x},[...h.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{className:d,...c}=s;return(0,a.createElement)(o,{ref:l,iconNode:t,className:n("lucide-".concat(r(i(e))),"lucide-".concat(e),d),...c})});return s.displayName=i(e),s}},2089:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1713).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2341:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1713).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3022:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1713).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},3410:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(7876),r=s(4232),l=s(1777),i=s(409),n=s(9312),d=s(4293),c=s(2341),o=s(3022),u=s(2089);let h=e=>{let{students:t,onView:s,onEdit:r,onDelete:l}=e;return(0,a.jsx)("div",{className:"overflow-x-auto shadow rounded-lg bg-white",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[(0,a.jsx)("thead",{className:"bg-gray-100 text-gray-700 text-left",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3",children:"REG.NO"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Name"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Email"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"fatherName"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"parentCode"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Class"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"currentSection"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:null==t?void 0:t.map(e=>{var t,i,n,d;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition",children:[(0,a.jsx)("td",{className:"px-4 py-3",children:e.registrationNumber}),(0,a.jsxs)("td",{className:"px-4 py-3 font-medium text-gray-800",children:[e.firstName," ",e.lastName]}),(0,a.jsx)("td",{className:"px-4 py-3",children:e.email}),(0,a.jsx)("td",{className:"px-4 py-3",children:(null==(t=e.parent)?void 0:t.fatherName)||"N/A"}),(0,a.jsx)("td",{className:"px-4 py-3",children:e.parentCode}),(0,a.jsx)("td",{className:"px-4 py-3",children:(null==(n=e.currentSection)||null==(i=n.classId)?void 0:i.className)||"N/A"}),(0,a.jsx)("td",{className:"px-4 py-3",children:(null==(d=e.currentSection)?void 0:d.sectionName)||"N/A"}),(0,a.jsx)("td",{className:"px-4 py-3 capitalize",children:e.status}),(0,a.jsxs)("td",{className:"px-4 py-3 flex justify-center gap-2 text-gray-600",children:[(0,a.jsx)("button",{onClick:()=>s(e),className:"hover:text-blue-600 cursor-pointer",title:"View",children:(0,a.jsx)(c.A,{size:18})}),(0,a.jsx)("button",{onClick:()=>r(e),className:"hover:text-yellow-500 cursor-pointer",title:"Edit",children:(0,a.jsx)(o.A,{size:18})}),(0,a.jsx)("button",{onClick:()=>l(e._id),className:"hover:text-red-500 cursor-pointer",title:"Delete",children:(0,a.jsx)(u.A,{size:18})})]})]},e._id)})})]})})};var x=s(8666),m=s(9099),p=s(672);let N=()=>{let e=(0,l.wA)(),t=(0,m.useRouter)(),{students:s}=(0,l.d4)(e=>e.student),{classes:c}=(0,l.d4)(e=>e.class),{sections:o}=(0,l.d4)(e=>e.section),[u,N]=(0,r.useState)(""),[y,j]=(0,r.useState)(""),[v,f]=(0,r.useState)(!1),[w,b]=(0,r.useState)(""),[g,k]=(0,r.useState)(null),[A,_]=(0,r.useState)(""),C=s.filter(e=>{var t,s,a;let r="".concat(e.firstName," ").concat(e.lastName).toLowerCase(),l=!A||r.includes(A.toLowerCase()),i=!u||(null==(s=e.currentSection)||null==(t=s.classId)?void 0:t._id)===u,n=!y||(null==(a=e.currentSection)?void 0:a._id)===y;return l&&i&&n}),S=A||u||y,E=u?o.filter(e=>e.classId._id===u):[];(0,r.useEffect)(()=>{e((0,i.Y)()),e((0,n.jt)())},[e]),(0,r.useEffect)(()=>{u&&e((0,d.jO)(u))},[e,u]);let z=()=>{f(!1),k(null)};return(0,a.jsxs)("div",{className:"p-4 max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"All Students"}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsxs)("select",{value:u,onChange:e=>{N(e.target.value),j("")},className:"border p-2 rounded-md",children:[(0,a.jsx)("option",{value:"",children:"Select Class"}),c.map(e=>(0,a.jsx)("option",{value:e._id,children:e.className},e._id))]}),(0,a.jsxs)("select",{value:y,onChange:e=>j(e.target.value),className:"border p-2 rounded-md",children:[(0,a.jsx)("option",{value:"",children:"Select Section"}),E.map(e=>(0,a.jsx)("option",{value:e._id,children:e.sectionName},e._id))]}),(0,a.jsx)("input",{type:"text",placeholder:"Search by name...",value:A,onChange:e=>_(e.target.value),className:"border p-2 w-64 rounded-md"})]})]}),(0,a.jsx)(h,{students:S?C:s,onView:s=>{e((0,x._d)(s)),t.push("/Dashboard/Student/StudentInfo/StudentDetail")},onEdit:s=>{e((0,x._d)(s)),t.push("/Dashboard/Student/UpdateStudent")},onDelete:e=>{k(s.find(t=>t._id===e)),f(!0)}}),v&&(0,a.jsx)("div",{className:"absolute inset-0 z-[999] flex items-center justify-center ml-24 mt-12 mr-12 bg-white-200 bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 mt-0 rounded shadow-md w-96 relative",children:[(0,a.jsxs)("button",{className:"absolute top-2 right-2 text-gray-600 hover:text-black",onClick:z,children:[(0,a.jsx)(p.A,{size:24})," "]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["Are you sure you want to delete ",null==g?void 0:g.firstName,"?"]}),(0,a.jsx)("button",{className:"bg-red-600 text-white cursor-pointer px-4 py-2 rounded mt-4",onClick:()=>{let t=g._id;e((0,i.LP)(t)),z()},children:"Confirm Delete"})]}),(0,a.jsx)("button",{className:"mt-4 ml-2 cursor-pointer text-gray-600",onClick:z,children:"Cancel"})]})})]})}},6908:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Dashboard/Student/StudentList",function(){return s(3410)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(6908)),_N_E=e.O()}]);