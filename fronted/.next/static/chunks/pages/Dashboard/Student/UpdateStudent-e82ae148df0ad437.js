(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2681],{345:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1713).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},1713:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var r=a(4232);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:c="",children:u,iconNode:m,...h}=e;return(0,r.createElement)("svg",{ref:t,...o,width:s,height:s,stroke:a,strokeWidth:n?24*Number(l)/Number(s):l,className:i("lucide",c),...!u&&!d(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let a=(0,r.forwardRef)((a,l)=>{let{className:d,...o}=a;return(0,r.createElement)(c,{ref:l,iconNode:t,className:i("lucide-".concat(s(n(e))),"lucide-".concat(e),d),...o})});return a.displayName=n(e),a}},2368:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(7876),s=a(4232),l=a(1777),n=a(409),i=a(4e3);let d=(0,a(1713).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var o=a(345),c=a(9312),u=a(4293);let m=()=>{var e;let t=(0,l.wA)(),a=(0,i.useRouter)(),[m,h]=(0,s.useState)(""),p=(0,l.d4)(e=>e.student.studentDetails),{classes:g}=(0,l.d4)(e=>e.class),{sections:b}=(0,l.d4)(e=>e.section);(0,s.useEffect)(()=>{m&&t((0,u.jO)(m))},[t,m]),(0,s.useEffect)(()=>{t((0,c.jt)())},[t]);let[x,f]=(0,s.useState)({firstName:"",lastName:"",phone:"",email:"",gender:"",dob:"",parentCode:"",aadhaarCard:"",admissionDate:"",bloodGroup:"",allergies:"",medicalConditions:"",achievements:"",currentSection:""});(0,s.useEffect)(()=>{if(p){var e,t,a,r;f({firstName:p.firstName||"",lastName:p.lastName||"",phone:p.phone||"",email:p.email||"",gender:p.gender||"",dob:(null==(e=p.dob)?void 0:e.substring(0,10))||"",parentCode:p.parentCode||"",aadhaarCard:p.aadhaarCard||"",admissionDate:(null==(t=p.admissionDate)?void 0:t.substring(0,10))||"",bloodGroup:p.bloodGroup||"",allergies:p.allergies||"",medicalConditions:p.medicalConditions||"",achievements:p.achievements||"",currentSection:p.currentSection._id||""}),h((null==(r=p.currentSection)||null==(a=r.classId)?void 0:a._id)||"")}},[p]);let v=e=>{let{name:t,value:a}=e.target;f(e=>({...e,[t]:a}))},N=async e=>{e.preventDefault(),await t((0,n.dp)({id:p._id,updatedData:x}))&&(alert("student updated successfully"),a.push("/Dashboard/Student/StudentList"),alert("student updated successfully"))},y=()=>{a.push("/Dashboard/Student/StudentList")};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:(0,r.jsxs)("div",{className:"bg-white shadow-xl rounded-2xl p-8 w-full max-w-4xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Update Student"}),(0,r.jsxs)("button",{onClick:y,className:"flex items-center text-sm text-gray-600 hover:text-gray-900",children:[(0,r.jsx)(d,{className:"w-4 h-4 mr-1"})," Back"]})]}),(0,r.jsxs)("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[[["First Name","firstName"],["Last Name","lastName"],["Email","email","email"],["Phone","phone"],["Gender","gender"],["Date of Birth","dob","date"],["Parent Code","parentCode"],["Aadhaar Card","aadhaarCard"],["Admission Date","admissionDate","date"],["Blood Group","bloodGroup"],["Allergies","allergies"],["Medical Conditions","medicalConditions"],["Achievements","achievements"]].map(e=>{let[t,a,s="text"]=e;return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:a,className:"text-sm font-medium text-gray-700 mb-1",children:t}),(0,r.jsx)("input",{type:s,id:a,name:a,value:x[a],onChange:v,className:"px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]},a)}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"block text-gray-700 mb-1",children:"Current Section"}),(0,r.jsx)("input",{readOnly:!0,name:"currentSection",value:(null==(e=b.find(e=>e._id===x.currentSection))?void 0:e.sectionName)||"",className:"w-full p-2 rounded-md px-4 py-2 border border-gray-300 bg-gray-100 shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[" ",(0,r.jsx)("span",{className:"  text-green-700 border border-gray-300 border-r-blue-500  shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",children:" change class"}),(0,r.jsx)("label",{className:"block text-gray-700 mb-1",children:"Class"}),(0,r.jsxs)("select",{className:"w-full border p-2 rounded-md",value:m,onChange:e=>{h(e.target.value),f(e=>({...e,currentSection:""}))},children:[(0,r.jsx)("option",{value:"",children:"Select Class"}),null==g?void 0:g.map(e=>(0,r.jsx)("option",{value:e._id,children:e.className},e._id))]})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("span",{className:"  text-green-700 border border-gray-300 border-r-blue-500  shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",children:" change section"}),(0,r.jsx)("label",{className:"block text-gray-700 mb-1",children:"Section"}),(0,r.jsxs)("select",{className:"w-full border p-2 rounded-md",value:x.currentSection,onChange:e=>f(t=>({...t,currentSection:e.target.value})),children:[(0,r.jsx)("option",{value:"",children:"Select Section"}),null==b?void 0:b.map(e=>(0,r.jsx)("option",{value:e._id,children:e.sectionName},e._id))]})]}),(0,r.jsxs)("div",{className:"col-span-full flex justify-end gap-4 mt-4",children:[(0,r.jsx)("button",{type:"button",onClick:y,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:"Cancel"}),(0,r.jsxs)("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[(0,r.jsx)(o.A,{className:"w-4 h-4"})," Update"]})]})]})]})})}},7517:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Dashboard/Student/UpdateStudent",function(){return a(2368)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[4e3,636,6593,8792],()=>t(7517)),_N_E=e.O()}]);