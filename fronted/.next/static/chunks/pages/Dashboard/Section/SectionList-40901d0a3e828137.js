(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3796],{672:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1713).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1713:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var r=s(4232);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),i=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:h,iconNode:u,...x}=e;return(0,r.createElement)("svg",{ref:t,...d,width:a,height:a,stroke:s,strokeWidth:i?24*Number(l)/Number(a):l,className:n("lucide",o),...!h&&!c(x)&&{"aria-hidden":"true"},...x},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(h)?h:[h]])}),h=(e,t)=>{let s=(0,r.forwardRef)((s,l)=>{let{className:c,...d}=s;return(0,r.createElement)(o,{ref:l,iconNode:t,className:n("lucide-".concat(a(i(e))),"lucide-".concat(e),c),...d})});return s.displayName=i(e),s}},2089:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1713).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2341:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1713).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2377:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1713).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},5948:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Dashboard/Section/SectionList",function(){return s(6774)}])},6774:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(7876),a=s(4232),l=s(2341),i=s(1713);let n=(0,i.A)("user-round-plus",[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]]),c=(0,i.A)("book-plus",[["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);var d=s(2377),o=s(2089);let h=e=>{var t,s;let{section:a,onAddTeacher:i,onAddSubject:h,onUpdate:u,onDelete:x,onView:m}=e;return(0,r.jsxs)("div",{className:"bg-white shadow rounded-xl p-4 flex flex-col justify-between gap-4 w-full",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold uppercase",children:null==a?void 0:a.sectionName}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:(0,r.jsxs)("p",{children:["Class Teacher:",(null==a?void 0:a.classTeacher)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-800 font-medium",children:null==(t=a.classTeacher)?void 0:t.firstName})," ",(0,r.jsx)("span",{className:"text-gray-800 font-medium",children:null==(s=a.classTeacher)?void 0:s.lastName})]}):(0,r.jsx)("span",{className:"text-gray-800 font-medium",children:"Not Assigned"})]})})]}),(0,r.jsx)(l.A,{className:"text-blue-600 cursor-pointer hover:scale-110 transition-transform",onClick:()=>m(a)})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 justify-end",children:[(0,r.jsxs)("button",{onClick:()=>i(a),className:"flex items-center gap-1 text-blue-600 hover:text-blue-800",children:[(0,r.jsx)(n,{size:18}),(null==a?void 0:a.classTeacher)?"Change Class Teacher":"Add Class Teacher"]}),(0,r.jsxs)("button",{onClick:()=>h(a),className:"flex items-center gap-1 text-green-600 hover:text-green-800",children:[(0,r.jsx)(c,{size:18}),"Add Subject"]}),(0,r.jsx)(d.A,{className:"text-yellow-600 cursor-pointer hover:scale-110 transition-transform",onClick:()=>u(a)}),(0,r.jsx)(o.A,{className:"text-red-600 cursor-pointer hover:scale-110 transition-transform",onClick:()=>x(a._id)})]})]})};var u=s(1777),x=s(4293),m=s(9099),p=s(672),f=s(5510);let v=()=>{let e=(0,u.wA)(),t=(0,m.useRouter)(),{sections:s=[],error:l,loading:i}=(0,u.d4)(e=>e.section),{selectedClass:n}=(0,u.d4)(e=>e.class),[c,d]=(0,a.useState)(!1),[o,v]=(0,a.useState)(""),[j,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(!n||!(null==n?void 0:n._id))return void console.warn("Waiting for selectedClass...");console.log("Dispatching getSectionsByClassId with:",null==n?void 0:n._id),e((0,f.dU)()),e((0,f.Cz)()),e((0,x.jO)(null==n?void 0:n._id)).unwrap().then(t=>{t&&0!==t.length||e((0,f.Cz)())}).catch(t=>{console.error("Error fetching sections:",t),e((0,f.Cz)())})},[null==n?void 0:n._id]);let y=s=>{e((0,f.c4)(s)),t.push("/Dashboard/Section/AddTeacher")},k=s=>{e((0,f.c4)(s)),t.push("/Dashboard/Section/Info/Detail")},w=()=>{d(!1),g(null)},N=s=>{e((0,f.c4)(s)),t.push("/Dashboard/Section/Info/UpdateForm")},b=s=>{e((0,f.c4)(s)),t.push("/Dashboard/Section/AddSubject")},A=e=>{v("delete"),g(s.find(t=>t._id===e)),d(!0)};return n&&n._id?(0,r.jsxs)("div",{className:"p-4 sm:ml-64",children:[i&&(0,r.jsx)("p",{className:"text-gray-600",children:"Loading..."}),l&&(0,r.jsx)("p",{className:"text-red-500",children:l}),(0,r.jsx)("div",{className:"flex justify-between items-center flex-wrap mb-6 gap-4",children:(0,r.jsxs)("h1",{className:"text-2xl font-bold",children:["Total Sections: ",s.length]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.filter(e=>null!==e).map(e=>(0,r.jsx)(h,{section:e,onAddTeacher:y,onAddSubject:b,onUpdate:N,onDelete:A,onView:k},null==e?void 0:e._id))}),c&&(0,r.jsx)("div",{className:"absolute inset-0 z-[999] flex items-center justify-center ml-24 mt-12 mr-12 bg-white-200 bg-opacity-50",children:(0,r.jsxs)("div",{className:"bg-white p-6 mt-0 rounded shadow-md w-96 relative",children:[(0,r.jsxs)("button",{className:"absolute top-2 right-2 text-gray-600 hover:text-black",onClick:w,children:[(0,r.jsx)(p.A,{size:24})," "]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:["Are you sure you want to delete ",null==j?void 0:j.sectionName,"?"]}),(0,r.jsx)("button",{className:"bg-red-600 text-white cursor-pointer px-4 py-2 rounded mt-4",onClick:()=>{let t=j._id;e((0,x.tA)(t)),w()},children:"Confirm Delete"})]}),(0,r.jsx)("button",{className:"mt-4 ml-2 cursor-pointer text-gray-600",onClick:w,children:"Cancel"})]})})]}):(0,r.jsx)("div",{className:"p-4 sm:ml-64",children:(0,r.jsx)("p",{className:"text-gray-500",children:"Please select a class to view its sections."})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(5948)),_N_E=e.O()}]);