(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[340],{172:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Dashboard/Subject/SubjectList",function(){return s(3874)}])},672:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(1713).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1713:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var l=s(4232);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),d=e=>{let t=r(e);return t.charAt(0).toUpperCase()+t.slice(1)},c=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},n=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,l.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:d,className:u="",children:o,iconNode:x,...h}=e;return(0,l.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:s,strokeWidth:d?24*Number(r)/Number(a):r,className:c("lucide",u),...!o&&!n(h)&&{"aria-hidden":"true"},...h},[...x.map(e=>{let[t,s]=e;return(0,l.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),o=(e,t)=>{let s=(0,l.forwardRef)((s,r)=>{let{className:n,...i}=s;return(0,l.createElement)(u,{ref:r,iconNode:t,className:c("lucide-".concat(a(d(e))),"lucide-".concat(e),n),...i})});return s.displayName=d(e),s}},2089:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(1713).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3874:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var l=s(7876),a=s(4232),r=s(1777),d=s(5104),c=s(672),n=s(3859),i=s(5952);let u=(0,s(1713).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var o=s(2089);let x=e=>{let{subject:t,onUpdate:s,onDelete:a}=e;return(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-md p-6 flex flex-col justify-between transition hover:shadow-lg group",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(i.A,{className:"w-8 h-8 text-blue-600"}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:t.subjectName})]})}),(0,l.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:(0,l.jsxs)("h3",{className:"text-xl font-semibold  text-gray-800",children:["code:",t.subjectCode]})}),(0,l.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,l.jsx)("button",{onClick:()=>s(t),className:"p-2 rounded-full cursor-pointer hover:bg-yellow-100 transition",title:"Edit",children:(0,l.jsx)(u,{className:"w-5 h-5 text-yellow-600"})}),(0,l.jsx)("button",{onClick:()=>a(t),className:"p-2 rounded-full cursor-pointer hover:bg-red-100 transition",title:"Delete",children:(0,l.jsx)(o.A,{className:"w-5 h-5 text-red-600"})})]})]})};var h=s(9099),b=s(7821);let m=()=>{let{enqueueSnackbar:e}=(0,b.dh)();(0,h.useRouter)();let t=(0,r.wA)(),s=(0,r.d4)(e=>e.subject.subjects),[i,u]=(0,a.useState)(!1),[o,m]=(0,a.useState)(""),[j,p]=(0,a.useState)(null),[g,y]=(0,a.useState)(!1),[f,N]=(0,a.useState)({subjectName:"",subjectCode:""});(0,a.useEffect)(()=>{t((0,n.Nj)())},[n.Fb,n.iQ,n.gg]);let v=e=>{m("update"),p(e),u(!0)},w=e=>{m("delete"),p(e),u(!0)},k=()=>{u(!1),p(null)},C=()=>{if(console.log(j._id),"update"===o)t((0,n.iQ)({id:j._id,updatedData:j})),e("Subject updated successfully!",{variant:"success"});else if("delete"===o){let s=j._id;t((0,n.gg)(s)).unwrap().then(()=>{e("Subject deleted successfully!",{variant:"success"})}).catch(()=>{e("Failed to delete subject.",{variant:"error"})})}k()};return(0,l.jsxs)("div",{className:"p-16",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Subjects"}),(0,l.jsxs)("button",{onClick:()=>y(!0),className:"flex items-center gap-2 cursor-pointer bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:[(0,l.jsx)(d.A,{size:20})," Add Subject"]})]}),0===s.length?(0,l.jsx)("p",{children:"No subjects found"}):(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,l.jsx)(x,{subject:e,onUpdate:v,onDelete:w},e._id))}),g&&(0,l.jsx)("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-gray-100 bg-opacity-50",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-96 relative",children:[(0,l.jsx)("button",{className:"absolute top-2 right-2 text-gray-600 hover:text-black",onClick:()=>y(!1),children:(0,l.jsx)(c.A,{size:24})}),(0,l.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Add New Subject"}),(0,l.jsxs)("form",{onSubmit:s=>{s.preventDefault(),t((0,n.Fb)(f)),e("Subject added successfully!",{variant:"success"}),y(!1),N({subjectName:"",subjectCode:""})},children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,l.jsx)("input",{type:"text",value:f.subjectName,onChange:e=>N({...f,subjectName:e.target.value}),required:!0,className:"w-full px-3 py-2 border rounded mb-4"}),(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"subjectCode"}),(0,l.jsx)("input",{type:"text",value:f.subjectCode,onChange:e=>N({...f,subjectCode:e.target.value}),required:!0,className:"w-full px-3 py-2 border rounded mb-4"}),(0,l.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Create Subject"})]})]})}),i&&(0,l.jsx)("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black bg-opacity-50",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-96 relative",children:[(0,l.jsx)("button",{className:"absolute top-2 right-2 text-gray-600 hover:text-black",onClick:k,children:(0,l.jsx)(c.A,{size:24})}),(0,l.jsx)("h2",{className:"text-lg font-bold mb-4",children:"update"===o?"Update Subject":"Delete Subject"}),"update"===o?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{type:"text",value:(null==j?void 0:j.subjectName)||"",onChange:e=>p(t=>({...t,subjectName:e.target.value})),className:"w-full border rounded px-3 py-2 mb-4"}),(0,l.jsx)("textarea",{value:(null==j?void 0:j.subjectCode)||"",onChange:e=>p(t=>({...t,subjectCode:e.target.value})),className:"w-full border rounded px-3 py-2 mb-4"}),(0,l.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",onClick:C,children:"Confirm Update"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{children:["Are you sure you want to delete ",(0,l.jsx)("strong",{children:null==j?void 0:j.subjectName}),"?"]}),(0,l.jsx)("button",{className:"bg-red-600 text-white px-4 py-2 rounded mt-4 hover:bg-red-700",onClick:C,children:"Confirm Delete"})]}),(0,l.jsx)("button",{className:"mt-4 ml-2 text-gray-600",onClick:k,children:"Cancel"})]})})]})}},5104:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(1713).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5952:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(1713).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(172)),_N_E=e.O()}]);